# –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞: –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —É—Ä–æ–∫–∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–∞

> **–î–æ–∫—É–º–µ–Ω—Ç –æ–±–Ω–æ–≤–ª—ë–Ω:** 14 –¥–µ–∫–∞–±—Ä—è 2025  
> **–í–µ—Ä—Å–∏—è:** 2.0.0 ‚Äî –û—Ç—Ä–∞–∂–∞–µ—Ç —Ç–µ–∫—É—â—É—é –º–æ–¥—É–ª—å–Ω—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é

---

## üìã –°—Ç–∞—Ç—É—Å –¥–æ–∫—É–º–µ–Ω—Ç–∞

**–í–ê–ñ–ù–û:** –≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –¥–≤–µ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:

1. **üü¢ –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (Production)** ‚Äî –ú–æ–¥—É–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å —Ä–∞–∑–¥–µ–ª—ë–Ω–Ω—ã–º–∏ CSS/JS —Ñ–∞–π–ª–∞–º–∏ –∏ JSON-–∫–æ–Ω—Ç–µ–Ω—Ç–æ–º
2. **üîµ Reference –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (Blueprint)** ‚Äî Standalone –ø–æ–¥—Ö–æ–¥ –¥–ª—è –±—É–¥—É—â–∏—Ö —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤

**–ü–æ–ª–∏—Ç–∏–∫–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:**
- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ HTML-—É—Ä–æ–∫–∏ –Ω–µ –∏–∑–º–µ–Ω—è–µ–º (–æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å)
- –ù–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –¥–æ–±–∞–≤–ª—è–µ–º –≤ –º–æ–¥—É–ª—å–Ω—É—é —Å–∏—Å—Ç–µ–º—É
- –ü–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã –¥–ª—è –æ–±–æ–∏—Ö –ø–æ–¥—Ö–æ–¥–æ–≤
- –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ standalone –∞—Ä—Ç–µ—Ñ–∞–∫—Ç –º–æ–∂–Ω–æ —Å–æ–±—Ä–∞—Ç—å –∏–∑ –º–æ–¥—É–ª–µ–π

---

## üìë –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

### –¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
1. [–ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (Current)](#–º–æ–¥—É–ª—å–Ω–∞—è-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-current)
2. [–§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞](#—Ñ–∞–π–ª–æ–≤–∞—è-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
3. [JavaScript –º–æ–¥—É–ª–∏](#javascript-–º–æ–¥—É–ª–∏)
4. [CSS –º–æ–¥—É–ª–∏](#css-–º–æ–¥—É–ª–∏)
5. [JSON —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö](#json-—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–¥–∞–Ω–Ω—ã—Ö)
6. [Workflow —É—Ä–æ–∫–∞](#workflow-—É—Ä–æ–∫–∞)

### Reference –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
7. [Standalone Blueprint](#standalone-blueprint-reference)
8. [–†–µ–∞–∫—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º](#—Ä–µ–∞–∫—Ç–∏–≤–Ω–æ–µ-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ-—Å–æ—Å—Ç–æ—è–Ω–∏–µ–º)
9. [–ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞](#–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∞—è-—Å–∏—Å—Ç–µ–º–∞)
10. [–ü–∞—Ç—Ç–µ—Ä–Ω—ã –∏ Best Practices](#–ø–∞—Ç—Ç–µ—Ä–Ω—ã-–∏-best-practices)
11. [Performance –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è](#performance-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è)
12. [Roadmap](#roadmap)

---

# üü¢ –¢–ï–ö–£–©–ê–Ø –†–ï–ê–õ–ò–ó–ê–¶–ò–Ø

## –ú–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ (Current)

### –û–±–∑–æ—Ä

–ü—Ä–æ–µ–∫—Ç **—É—Å–ø–µ—à–Ω–æ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–ª –Ω–∞ –º–æ–¥—É–ª—å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É** –≤ –¥–µ–∫–∞–±—Ä–µ 2025. –í–º–µ—Å—Ç–æ –º–æ–Ω–æ–ª–∏—Ç–Ω—ã—Ö HTML-—Ñ–∞–π–ª–æ–≤ —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–∑–¥–µ–ª—ë–Ω–Ω—ã—Ö CSS/JS –º–æ–¥—É–ª–µ–π —Å JSON-driven –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º.

### –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

‚úÖ **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–æ–º** ‚Äî CSS/JS —Ñ–∞–π–ª—ã –∫—ç—à–∏—Ä—É—é—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑  
‚úÖ **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏** ‚Äî Engine, Renderer, Storage, TTS  
‚úÖ **–ü–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ** ‚Äî –û–¥–∏–Ω –Ω–∞–±–æ—Ä –º–æ–¥—É–ª–µ–π –¥–ª—è –≤—Å–µ—Ö —É—Ä–æ–∫–æ–≤  
‚úÖ **–õ—ë–≥–∫–æ—Å—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π** ‚Äî –ò–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –≥–ª–æ–±–∞–ª—å–Ω–æ  
‚úÖ **–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π HTML** ‚Äî –ö–∞–∂–¥—ã–π —É—Ä–æ–∫ ‚âà 2 KB (—Ç–æ–ª—å–∫–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è)

---

## –§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
dist/
‚îú‚îÄ‚îÄ assets/
‚îÇ   ‚îú‚îÄ‚îÄ css/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lesson-core.css          # –Ø–¥—Ä–æ: –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, reset, layout, loader
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lesson-components.css    # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: header, tabs, cards, buttons
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ lesson-responsive.css    # –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å: mobile, tablet
‚îÇ   ‚îî‚îÄ‚îÄ js/
‚îÇ       ‚îú‚îÄ‚îÄ lesson-storage.js        # LocalStorage –¥–ª—è —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö —Å–ª–æ–≤
‚îÇ       ‚îú‚îÄ‚îÄ lesson-tts.js            # Text-to-Speech (Google TTS)
‚îÇ       ‚îú‚îÄ‚îÄ lesson-renderer.js       # –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
‚îÇ       ‚îî‚îÄ‚îÄ lesson-engine.js         # –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îî‚îÄ‚îÄ {lessonId}.json              # JSON –¥–∞–Ω–Ω—ã–µ —É—Ä–æ–∫–∞
```

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Å–ª–æ–∏

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         HTML Wrapper (Thin)             ‚îÇ  ‚Üê –¢–æ–ª—å–∫–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –º–æ–¥—É–ª–µ–π
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ         LessonEngine (Controller)       ‚îÇ  ‚Üê –õ–æ–≥–∏–∫–∞ –∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  LessonRenderer ‚îÇ LessonStorage ‚îÇ TTS   ‚îÇ  ‚Üê –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ         CSS Modules (Presentation)      ‚îÇ  ‚Üê –°—Ç–∏–ª–∏ –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ         JSON Data (Content)             ‚îÇ  ‚Üê –î–∞–Ω–Ω—ã–µ —É—Ä–æ–∫–æ–≤
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## JavaScript –º–æ–¥—É–ª–∏

### 1. `lesson-engine.js` ‚Äî –ì–ª–∞–≤–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä

**–ü–∞—Ç—Ç–µ—Ä–Ω:** MVC Controller + State Management

**–ö–ª–∞—Å—Å:** `LessonEngine`

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:**
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ó–∞–≥—Ä—É–∑–∫–∞ JSON –¥–∞–Ω–Ω—ã—Ö —É—Ä–æ–∫–∞
- –ö–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—è –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º (tabs, vocabulary mode, quiz state)
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π

**–°–æ—Å—Ç–æ—è–Ω–∏–µ:**
```javascript
{
    lessonId: string,
    lessonData: object,
    currentTab: 'reading' | 'vocabulary' | 'grammar' | 'quiz',
    vocabMode: 'list' | 'flashcard',
    flashcardIndex: number,
    myWords: Array<Word>,
    quizState: {
        currentQuestionIndex: number,
        answers: Array,
        completed: boolean
    }
}
```

**–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç–æ–¥—ã:**
```javascript
class LessonEngine {
    async init()                          // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
    async loadLessonData()                // –ó–∞–≥—Ä—É–∑–∫–∞ JSON –∏–∑ /data/
    switchTab(tabName)                    // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Å–µ–∫—Ü–∏—è–º–∏
    renderCurrentTab()                    // –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∞–∫—Ç–∏–≤–Ω–æ–π –≤–∫–ª–∞–¥–∫–∏
    toggleWord(wordData)                  // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å/—É–¥–∞–ª–∏—Ç—å —Å–ª–æ–≤–æ
    speakAllReading()                     // –û–∑–≤—É—á–∏—Ç—å –≤–µ—Å—å —Ç–µ–∫—Å—Ç
    speakWord(word)                       // –û–∑–≤—É—á–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ–µ —Å–ª–æ–≤–æ
    flipFlashcard()                       // –ü–µ—Ä–µ–≤–µ—Ä–Ω—É—Ç—å —Ñ–ª–µ—à–∫–∞—Ä—Ç—É
    nextFlashcard() / prevFlashcard()     // –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Ñ–ª–µ—à–∫–∞—Ä—Ç–∞–º
    selectQuizAnswer(index)               // –û—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –≤–æ–ø—Ä–æ—Å
    nextQuizQuestion()                    // –°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å
    resetQuiz()                           // –°–±—Ä–æ—Å –∫–≤–∏–∑–∞
    showNotification(message)             // –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
}
```

**–ü—Ä–∏–º–µ—Ä –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:**
```javascript
const lessonId = window.location.pathname.split('/').pop().replace('.html', '');
window.lessonEngine = new LessonEngine(lessonId);
window.lessonEngine.init();
```

---

### 2. `lesson-renderer.js` ‚Äî –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ UI

**–ü–∞—Ç—Ç–µ—Ä–Ω:** View Layer (Template Rendering)

**–ö–ª–∞—Å—Å:** `LessonRenderer`

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:**
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è HTML-—Ä–∞–∑–º–µ—Ç–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–π —Å–µ–∫—Ü–∏–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞ (—ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø–æ–¥—Å–≤–µ—Ç–∫–∞ —Å–ª–æ–≤)
- –°–æ–∑–¥–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –≤—Å—Ç–∞–≤–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞

**–ú–µ—Ç–æ–¥—ã:**
```javascript
class LessonRenderer {
    constructor(lessonData, tts, storage)
    
    // –£—Ç–∏–ª–∏—Ç—ã
    escapeHTML(text)                      // XSS –∑–∞—â–∏—Ç–∞
    
    // –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ —Å–µ–∫—Ü–∏–π
    renderReading(myWords)                // Reading —Å –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–º–∏ —Å–ª–æ–≤–∞–º–∏
    renderVocabulary(mode, myWords)       // Vocabulary (list/flashcard)
    renderVocabList(vocab, phrases, words) // –°–ø–∏—Å–æ–∫ —Å–ª–æ–≤
    renderFlashcard(vocab, index)         // –û–¥–Ω–∞ —Ñ–ª–µ—à–∫–∞—Ä—Ç–∞
    renderGrammar()                       // Grammar —Å–µ–∫—Ü–∏—è
    renderQuiz(quizState)                 // Quiz –≤–æ–ø—Ä–æ—Å—ã
    renderQuizResults(quizState)          // –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∫–≤–∏–∑–∞
    renderSidebar(myWords)                // Sidebar —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö —Å–ª–æ–≤
}
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- **–£–º–Ω–∞—è –ø–æ–¥—Å–≤–µ—Ç–∫–∞ —Å–ª–æ–≤:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Ö–æ–¥–∏—Ç —Å–ª–æ–≤–∞ –∏–∑ vocabulary –≤ —Ç–µ–∫—Å—Ç–µ
- **State-aware rendering:** –£—á–∏—Ç—ã–≤–∞–µ—Ç —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ —Å–ª–æ–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- **Accessibility:** Semantic HTML, ARIA attributes
- **Template strings:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç template literals –¥–ª—è —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏

---

### 3. `lesson-storage.js` ‚Äî –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å

**–ü–∞—Ç—Ç–µ—Ä–Ω:** Repository Pattern

**–ö–ª–∞—Å—Å:** `LessonStorage`

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:**
- LocalStorage –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö —Å–ª–æ–≤
- –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—è
- –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è/–¥–µ—Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è

**API:**
```javascript
class LessonStorage {
    constructor(lessonId)                 // –ò–∑–æ–ª—è—Ü–∏—è –ø–æ lessonId
    
    loadWords()                           // ‚Üí Array<Word>
    saveWords(words)                      // ‚Üê Array<Word>
    addWord(wordData)                     // ‚Üí boolean (success)
    removeWord(word)                      // ‚Üí boolean (success)
    isWordSaved(word)                     // ‚Üí boolean
    clearAll()                            // –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ —Å–ª–æ–≤–∞ —É—Ä–æ–∫–∞
    getCount()                            // ‚Üí number
}
```

**–§–æ—Ä–º–∞—Ç —Ö—Ä–∞–Ω–µ–Ω–∏—è:**
```javascript
// LocalStorage key: "lesson-{lessonId}-words"
[
    {
        word: "example",
        definition: "–ø—Ä–∏–º–µ—Ä",
        phonetic: "[…™…°Ààz…ëÀêmpl]",
        timestamp: 1702540800000
    }
]
```

---

### 4. `lesson-tts.js` ‚Äî –û–∑–≤—É—á–∫–∞

**–ü–∞—Ç—Ç–µ—Ä–Ω:** Service Layer

**–ö–ª–∞—Å—Å:** `LessonTTS`

**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å:**
- Text-to-Speech —á–µ—Ä–µ–∑ Google Translate API
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞—É–¥–∏–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ–º
- –¢–∞–∫—Ç–∏–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å (vibration)

**API:**
```javascript
class LessonTTS {
    speak(text, lang = 'en')              // –ü—Ä–æ–∏–∑–Ω–µ—Å—Ç–∏ —Ç–µ–∫—Å—Ç
    speakSequence(texts, delay = 800)     // –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å –ø–∞—É–∑–∞–º–∏
    stop()                                // –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
    vibrate(duration = 10)                // –í–∏–±—Ä–∞—Ü–∏—è (–µ—Å–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è)
}
```

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:**
```javascript
speak(text, lang = 'en') {
    const cleaned = this.cleanText(text);  // –£–¥–∞–ª–µ–Ω–∏–µ [translate:] –º–∞—Ä–∫–µ—Ä–æ–≤
    
    // Google TTS endpoint
    const url = `https://translate.google.com/translate_tts?
                 ie=UTF-8&q=${encodeURIComponent(cleaned)}&tl=${lang}&client=tw-ob`;
    
    this.currentAudio = new Audio(url);
    this.currentAudio.play().catch(err => {
        console.error('TTS playback error:', err);
    });
}
```

---

## CSS –º–æ–¥—É–ª–∏

### 1. `lesson-core.css` ‚Äî –§—É–Ω–¥–∞–º–µ–Ω—Ç

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:**
- `:root` CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ (design tokens)
- Modern CSS reset
- –ë–∞–∑–æ–≤—ã–π layout: `body`, `#app-root`, `.app-shell`
- Loader –∞–Ω–∏–º–∞—Ü–∏—è —Å –æ—Ä–±–∏—Ç–∞–º–∏
- Sidebar —Å—Ç–∏–ª–∏
- Keyframes: `spin`, `pulse`

**Design System:**
```css
:root {
    /* Colors */
    --primary-color: #2563eb;
    --success-color: #10b981;
    --error-color: #ef4444;
    --text-color: #1f2937;
    --bg-color: #f9fafb;
    
    /* Typography */
    --font-main: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    
    /* Spacing (8px scale) */
    --spacing-xs: 0.5rem;
    --spacing-sm: 1rem;
    --spacing-md: 1.5rem;
    --spacing-lg: 2rem;
    
    /* Layout */
    --max-width: 1200px;
    --sidebar-width: 280px;
    
    /* Effects */
    --shadow-md: 0 4px 6px rgba(0,0,0,0.1);
    --radius: 8px;
    --transition: 0.2s ease;
}
```

---

### 2. `lesson-components.css` ‚Äî UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞:**
```css
/* Header */
.lesson-header { /* –ó–∞–≥–æ–ª–æ–≤–æ–∫ —É—Ä–æ–∫–∞ */ }
.lesson-title { /* –ù–∞–∑–≤–∞–Ω–∏–µ */ }
.pill { /* –ë–µ–π–¥–∂–∏ —É—Ä–æ–≤–Ω—è/–≤—Ä–µ–º–µ–Ω–∏ */ }

/* Tabs Navigation */
.tabs { /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –≤–∫–ª–∞–¥–æ–∫ */ }
.tab.active { /* –ê–∫—Ç–∏–≤–Ω–∞—è –≤–∫–ª–∞–¥–∫–∞ */ }
.tab-indicator { /* –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä */ }

/* Cards */
.card { /* –ë–∞–∑–æ–≤–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ */ }

/* Buttons */
.primary-btn { /* –û—Å–Ω–æ–≤–Ω–∞—è –∫–Ω–æ–ø–∫–∞ */ }
.icon-btn { /* –ö–Ω–æ–ø–∫–∞-–∏–∫–æ–Ω–∫–∞ */ }

/* Reading */
.word-clickable { /* –ö–ª–∏–∫–∞–±–µ–ª—å–Ω–æ–µ —Å–ª–æ–≤–æ */ }
.word-clickable.saved { /* –°–æ—Ö—Ä–∞–Ω—ë–Ω–Ω–æ–µ —Å–ª–æ–≤–æ */ }

/* Vocabulary */
.vocab-layout { /* Grid layout */ }
.vocab-item { /* –ö–∞—Ä—Ç–æ—á–∫–∞ —Å–ª–æ–≤–∞ */ }

/* Flashcards */
.flashcard { /* 3D –ø–µ—Ä–µ–≤–æ—Ä–∞—á–∏–≤–∞–µ–º–∞—è –∫–∞—Ä—Ç–∞ */ }
.flashcard.flipped { /* –ü–µ—Ä–µ–≤—ë—Ä–Ω—É—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ */ }

/* Quiz */
.quiz-option { /* –í–∞—Ä–∏–∞–Ω—Ç –æ—Ç–≤–µ—Ç–∞ */ }
.quiz-feedback { /* –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å */ }
```

**3D Flip —ç—Ñ—Ñ–µ–∫—Ç:**
```css
.flashcard {
    transform-style: preserve-3d;
    transition: transform 0.6s;
}

.flashcard.flipped {
    transform: rotateY(180deg);
}

.flashcard-face {
    backface-visibility: hidden;
}
```

---

### 3. `lesson-responsive.css` ‚Äî –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å

**Breakpoints:**
```css
/* Tablet */
@media (max-width: 1024px) {
    .sidebar { width: 250px; }
}

/* Mobile */
@media (max-width: 768px) {
    .vocab-layout { grid-template-columns: 1fr; }
    .sidebar { display: none; }
}

/* Small Mobile */
@media (max-width: 480px) {
    .flashcard { width: 100%; }
}
```

---

## JSON —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### –§–æ—Ä–º–∞—Ç —É—Ä–æ–∫–∞ (`data/{lessonId}.json`)

```json
{
  "title": "Present Simple Tense",
  "subtitle": "Basic usage and formation",
  "meta": {
    "level": "A1",
    "duration": 30
  },
  
  "content": {
    "reading": [
      {
        "type": "paragraph",
        "text": "This is a paragraph with vocabulary words..."
      }
    ]
  },
  
  "vocabulary": {
    "words": [
      {
        "en": "example",
        "transcription": "[…™…°Ààz…ëÀêmpl]",
        "ru": "–ø—Ä–∏–º–µ—Ä",
        "example": "Example sentence.",
        "part_of_speech": "noun"
      }
    ],
    "phrases": [
      {
        "en": "for example",
        "ru": "–Ω–∞–ø—Ä–∏–º–µ—Ä"
      }
    ]
  },
  
  "grammar": {
    "title": "Present Simple - Formation",
    "explanation": "We use Present Simple for...",
    "examples": {
      "affirmative": ["I work every day."],
      "negative": ["I don't work on Sundays."],
      "questions": ["Do you work here?"]
    }
  },
  
  "quiz": [
    {
      "question": "Choose the correct form:",
      "options": ["She work", "She works", "She working"],
      "correct": 1
    }
  ]
}
```

---

## Workflow —É—Ä–æ–∫–∞

### –ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª

```
1. –ó–∞–≥—Ä—É–∑–∫–∞ HTML
   ‚Üì
2. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ CSS –º–æ–¥—É–ª–µ–π (–∫—ç—à–∏—Ä–æ–≤–∞–Ω—ã)
   ‚Üì
3. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ JS –º–æ–¥—É–ª–µ–π (–∫—ç—à–∏—Ä–æ–≤–∞–Ω—ã)
   ‚Üì
4. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è LessonEngine
   ‚Üì
5. –ó–∞–≥—Ä—É–∑–∫–∞ JSON –¥–∞–Ω–Ω—ã—Ö (fetch)
   ‚Üì
6. –°–æ–∑–¥–∞–Ω–∏–µ LessonRenderer, LessonStorage, LessonTTS
   ‚Üì
7. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã—Ö —Å–ª–æ–≤ (localStorage)
   ‚Üì
8. –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –ø–µ—Ä–≤–æ–π –≤–∫–ª–∞–¥–∫–∏ (Reading)
   ‚Üì
9. –°–∫—Ä—ã—Ç–∏–µ loader
   ‚Üì
10. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—é
```

### –ü—Ä–∏–º–µ—Ä HTML-–æ–±–æ–ª–æ—á–∫–∏

```html
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>English Lesson</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <!-- CSS Modules -->
  <link rel="stylesheet" href="assets/css/lesson-core.css">
  <link rel="stylesheet" href="assets/css/lesson-components.css">
  <link rel="stylesheet" href="assets/css/lesson-responsive.css">
</head>
<body>
  <!-- Loader -->
  <div class="loader-container" id="loader">
    <div class="loader">
      <div class="loader-orbit"></div>
      <div class="loader-core"></div>
    </div>
    <p>Loading lesson...</p>
  </div>

  <!-- App Root -->
  <div id="app-root">
    <div id="app"></div>
  </div>

  <!-- Notification -->
  <div class="notification" id="notification">
    <span id="notification-text"></span>
  </div>

  <!-- JavaScript Modules -->
  <script src="assets/js/lesson-storage.js"></script>
  <script src="assets/js/lesson-tts.js"></script>
  <script src="assets/js/lesson-renderer.js"></script>
  <script src="assets/js/lesson-engine.js"></script>
  
  <!-- Initialization -->
  <script>
    const lessonId = window.location.pathname
      .split('/').pop()
      .replace('.html', '');
    
    window.lessonEngine = new LessonEngine(lessonId);
    window.lessonEngine.init();
  </script>
</body>
</html>
```

---

# üîµ STANDALONE BLUEPRINT (Reference)

## Standalone Blueprint (Reference)

> **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –°–ª–µ–¥—É—é—â–∏–µ —Ä–∞–∑–¥–µ–ª—ã –æ–ø–∏—Å—ã–≤–∞—é—Ç –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π standalone –ø–æ–¥—Ö–æ–¥  
> –¥–ª—è —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤ (offline distribution, email attachments).  
> –í—Å–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–∏–º–µ–Ω–∏–º—ã –∫ —Ç–µ–∫—É—â–µ–π –º–æ–¥—É–ª—å–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ.

### –ö–æ–Ω—Ü–µ–ø—Ü–∏—è

Standalone —É—Ä–æ–∫ = –æ–¥–∏–Ω HTML-—Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç:
- –†–∞–∑–º–µ—Ç–∫—É (—Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π HTML)
- –°—Ç–∏–ª–∏ (–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π `<style>`)
- –õ–æ–≥–∏–∫—É (–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π `<script>`)
- –ö–æ–Ω—Ç–µ–Ω—Ç (–¥–∞–Ω–Ω—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π –≤–Ω—É—Ç—Ä–∏ —Ñ–∞–π–ª–∞)

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –û–¥–∏–Ω —Ñ–∞–π–ª = –æ–¥–∏–Ω –∞—Ä—Ç–µ—Ñ–∞–∫—Ç
- –†–∞–±–æ—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ (file://)
- –ù–µ—Ç –ø—Ä–æ–±–ª–µ–º —Å CORS
- –õ–µ–≥–∫–æ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è—Ç—å

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- Offline –∫—É—Ä—Å—ã –Ω–∞ USB
- Email —Ä–∞—Å—Å—ã–ª–∫–∏ —Å —É—Ä–æ–∫–∞–º–∏
- –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è
- –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã

---

## –†–µ–∞–∫—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º

### Reactive State —á–µ—Ä–µ–∑ Proxy

```javascript
class ReactiveState {
    constructor(initialState) {
        this.listeners = new Map();
        this.state = this._makeReactive(initialState);
    }
    
    _makeReactive(obj) {
        const self = this;
        return new Proxy(obj, {
            set(target, property, value) {
                const oldValue = target[property];
                target[property] = value;
                
                // –£–≤–µ–¥–æ–º–ª—è–µ–º –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
                if (self.listeners.has(property)) {
                    self.listeners.get(property).forEach(callback => {
                        callback(value, oldValue);
                    });
                }
                
                return true;
            }
        });
    }
    
    subscribe(property, callback) {
        if (!this.listeners.has(property)) {
            this.listeners.set(property, new Set());
        }
        this.listeners.get(property).add(callback);
        
        return () => this.listeners.get(property).delete(callback);
    }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const state = new ReactiveState({ score: 0 });
state.subscribe('score', (newScore) => {
    console.log('Score updated:', newScore);
    updateUI();
});
```

---

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞

### Base Component

```javascript
class Component {
    constructor(props = {}) {
        this.props = props;
        this.element = null;
        this.mounted = false;
    }
    
    render() {
        throw new Error('render() must be implemented');
    }
    
    mount(container) {
        this.element = this.render();
        container.appendChild(this.element);
        this.mounted = true;
        this.onMount();
        return this;
    }
    
    unmount() {
        if (this.mounted && this.element) {
            this.onUnmount();
            this.element.remove();
            this.mounted = false;
        }
    }
    
    update(newProps) {
        this.props = { ...this.props, ...newProps };
        if (this.mounted) {
            const newElement = this.render();
            this.element.replaceWith(newElement);
            this.element = newElement;
        }
    }
    
    onMount() {}
    onUnmount() {}
}
```

### –ü—Ä–∏–º–µ—Ä: ProgressBar Component

```javascript
class ProgressBar extends Component {
    render() {
        const { current, total, label } = this.props;
        const percentage = (current / total) * 100;
        
        const div = document.createElement('div');
        div.className = 'progress';
        div.setAttribute('role', 'progressbar');
        div.setAttribute('aria-valuenow', current);
        div.setAttribute('aria-valuemax', total);
        
        div.innerHTML = `
            <div class="progress__bar" style="width: ${percentage}%"></div>
            <span class="progress__label">${current} / ${total}</span>
        `;
        
        return div;
    }
}
```

---

## –ü–∞—Ç—Ç–µ—Ä–Ω—ã –∏ Best Practices

### 1. Error Handling

```javascript
class ErrorHandler {
    static handle(error, context = {}) {
        console.error('Application error:', error, context);
        this.showUserMessage(this.getUserMessage(error));
        this.logError(error, context);
    }
    
    static getUserMessage(error) {
        if (error instanceof NetworkError) {
            return '–ü—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º.';
        }
        return '–ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫.';
    }
    
    static showUserMessage(message) {
        const toast = document.createElement('div');
        toast.className = 'toast toast--error';
        toast.textContent = message;
        document.body.appendChild(toast);
        
        setTimeout(() => toast.classList.add('visible'), 10);
        setTimeout(() => toast.remove(), 5000);
    }
}

// –ì–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫
window.addEventListener('error', (e) => {
    ErrorHandler.handle(e.error, { type: 'uncaught' });
});
```

### 2. State Management Best Practices

**‚úÖ DO:**
```javascript
// –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
class LessonController {
    constructor() {
        this.state = { currentTab: 'reading' };
    }
    
    switchTab(tab) {
        this.state.currentTab = tab;
        this.render();
    }
}
```

**‚ùå DON'T:**
```javascript
// –†–∞–∑–±—Ä–æ—Å–∞–Ω–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
let currentTab = 'reading';
let score = 0;
```

### 3. Event Delegation

**‚úÖ DO:**
```javascript
// Event delegation
document.querySelector('.vocab-list').addEventListener('click', (e) => {
    const btn = e.target.closest('.save-btn');
    if (btn) {
        this.toggleWord(btn.dataset.word);
    }
});
```

**‚ùå DON'T:**
```javascript
// –ú–Ω–æ–∂–µ—Å—Ç–≤–æ —Å–ª—É—à–∞—Ç–µ–ª–µ–π
document.querySelectorAll('.save-btn').forEach(btn => {
    btn.addEventListener('click', () => ...);
});
```

---

## Performance –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

### 1. Lazy Loading –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

```javascript
if ('IntersectionObserver' in window) {
    const imageObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                const img = entry.target;
                img.src = img.dataset.src;
                img.classList.remove('lazy');
                imageObserver.unobserve(img);
            }
        });
    });
    
    document.querySelectorAll('img.lazy').forEach(img => {
        imageObserver.observe(img);
    });
}
```

### 2. Debounce –∏ Throttle

```javascript
const Utils = {
    debounce(func, wait) {
        let timeout;
        return function(...args) {
            clearTimeout(timeout);
            timeout = setTimeout(() => func.apply(this, args), wait);
        };
    },
    
    throttle(func, limit) {
        let inThrottle;
        return function(...args) {
            if (!inThrottle) {
                func.apply(this, args);
                inThrottle = true;
                setTimeout(() => inThrottle = false, limit);
            }
        };
    }
};

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
const debouncedSearch = Utils.debounce((query) => {
    searchVocabulary(query);
}, 300);

input.addEventListener('input', (e) => {
    debouncedSearch(e.target.value);
});
```

### 3. Batch DOM Updates

```javascript
class DOMBatcher {
    constructor() {
        this.reads = [];
        this.writes = [];
        this.scheduled = false;
    }
    
    read(callback) {
        this.reads.push(callback);
        this.schedule();
    }
    
    write(callback) {
        this.writes.push(callback);
        this.schedule();
    }
    
    schedule() {
        if (this.scheduled) return;
        
        this.scheduled = true;
        requestAnimationFrame(() => {
            this.reads.forEach(fn => fn());
            this.reads = [];
            
            this.writes.forEach(fn => fn());
            this.writes = [];
            
            this.scheduled = false;
        });
    }
}
```

---

## Roadmap

### Phase 1: Template Generator (Q1 2026)

**–¶–µ–ª—å:** –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è —É—Ä–æ–∫–æ–≤

**–ó–∞–¥–∞—á–∏:**
- CLI –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ HTML –∏–∑ JSON
- JSON schema validation
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ lessonId
- –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —É—Ä–æ–∫–∞ –≤ dev mode

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:**
- Node.js –¥–ª—è CLI
- JSON Schema –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- Template engine (Handlebars/EJS)

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```bash
$ npm run create-lesson data/152.json
‚úì JSON validated
‚úì HTML generated: dist/152.html
‚úì Lesson ready: http://localhost:3000/152.html
```

---

### Phase 2: Enhanced Interactivity (Q2 2026)

**–¶–µ–ª—å:** –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

**–ó–∞–¥–∞—á–∏:**
- Speech Recognition API –¥–ª—è –ø—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏—è
- Drag-and-drop —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è
- –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–ø—É—Å–∫–æ–≤ (fill-in-the-blank)
- Matching games

**–ù–æ–≤—ã–µ —Ç–∏–ø—ã quiz –≤–æ–ø—Ä–æ—Å–æ–≤:**
```json
{
  "type": "fill-blank",
  "text": "I ___ to school every day.",
  "correct": "go",
  "options": ["go", "goes", "going"]
}
```

---

### Phase 3: Analytics & Progress Tracking (Q3 2026)

**–¶–µ–ª—å:** –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –æ–±—É—á–µ–Ω–∏—è

**–ó–∞–¥–∞—á–∏:**
- Dashboard –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- Spaced Repetition System (SRS) –¥–ª—è —Å–ª–æ–≤
- –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ —Å–ª–µ–¥—É—é—â–∏—Ö —É—Ä–æ–∫–æ–≤
- –≠–∫—Å–ø–æ—Ä—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

**–ù–æ–≤—ã–π –º–æ–¥—É–ª—å:**
```javascript
class LessonAnalytics {
    trackEvent(event, data)
    getProgress()
    calculateSRSSchedule(word)
    recommendNextLesson()
}
```

---

### Phase 4: Progressive Web App (Q4 2026)

**–¶–µ–ª—å:** Offline-–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∏ –Ω–∞—Ç–∏–≤–Ω—ã–π –æ–ø—ã—Ç

**–ó–∞–¥–∞—á–∏:**
- Service Worker –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
- Web App Manifest
- Push notifications –¥–ª—è –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π
- Install prompt

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **–º–æ–¥—É–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã**, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—â–µ–π:

‚úÖ **Maintainability** ‚Äî –õ—ë–≥–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ  
‚úÖ **Performance** ‚Äî –ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –±–ª–∞–≥–æ–¥–∞—Ä—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—é  
‚úÖ **Scalability** ‚Äî –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ —Ä–æ—Å—Ç—É –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —É—Ä–æ–∫–æ–≤  
‚úÖ **Developer Experience** ‚Äî –ü–æ–Ω—è—Ç–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞  
‚úÖ **User Experience** ‚Äî –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å  

–¢–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –±–∞–ª–∞–Ω—Å–∏—Ä—É–µ—Ç –º–µ–∂–¥—É –ø—Ä–æ—Å—Ç–æ—Ç–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –∫–∞—á–µ—Å—Ç–≤–æ–º –ø—Ä–æ–¥—É–∫—Ç–∞, –∏—Å–ø–æ–ª—å–∑—É—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –≤–µ–±-—Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.

### –î–ª—è –Ω–æ–≤—ã—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤

**–ù–∞—á–Ω–∏—Ç–µ —Å:**
1. –ò–∑—É—á–µ–Ω–∏—è `lesson-engine.js` ‚Äî —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞
2. –ü—Ä–æ—Å–º–æ—Ç—Ä–∞ `lesson-renderer.js` ‚Äî –ø–æ–Ω–∏–º–∞–Ω–∏–µ UI
3. –ê–Ω–∞–ª–∏–∑–∞ JSON —Å—Ç—Ä—É–∫—Ç—É—Ä—ã ‚Äî —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö
4. –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ —É—Ä–æ–∫–∞–º–∏

**–°–ª–µ–¥—É–π—Ç–µ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º:**
- Separation of Concerns
- DRY (Don't Repeat Yourself)
- KISS (Keep It Simple, Stupid)
- Progressive Enhancement
- Accessibility First

---

**–ê–≤—Ç–æ—Ä—ã:** andreacebotarev-svg  
**–í–µ—Ä—Å–∏—è:** 2.0.0  
**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 14 –¥–µ–∫–∞–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ Production Ready  
**–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** [README.md](./README.md)
